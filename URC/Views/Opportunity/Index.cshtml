<!--
  Author:    Peter Forsling
  Partner:   Noah Jackson
  Date:      24 September 2020
  Course:    CS 4540, University of Utah, School of Computing
  Copyright: CS 4540 and Peter Forsling/Noah Jackson - This work may not be copied for use in Academic Coursework.

  I, Peter Forsling/Noah Jackson, certify that I wrote this code from scratch and did not copy it in part or whole from
  another source.  Any references used in the completion of the assignment are cited in my README file.

  File Contents

    This file contains the HTML code to display the research opportunities page.
-->

@model IEnumerable<URC.Models.Opportunity>

<!-- Begin new Opportunity-->
<table>
    <thead>
        <tr>
            <th class="table-head">
                <h4>Project Name</h4>
            </th>
            <th class="table-head">
                <h4>Project Description</h4>
            </th>
        </tr>
    </thead>
    <tbody>
        @foreach (var item in Model)
            {
        <tr>
            <td>
                <table class="title-author">
                    <tr>
                        <td class="title-element">
                            <h4>
                                <a class="opportunity-link" asp-action="OpportunityDetails" asp-route-id="@item.OpportunityID">@Html.DisplayFor(modelItem => item.ProjectName)</a>
                            </h4>
                        </td>
                    </tr>
                    <tr>
                        <td class="author-element">
                            Professor: @Html.DisplayFor(modelItem => item.ProfessorName)
                        </td>
                    </tr>
                </table>
            </td>
            <td>
                <table class="summary-tag">
                    <tr>
                        <td class="summary-element">@Html.DisplayFor(modelItem => item.ProjectDescription)</td>
                    </tr>
                    <tr>
                        <td class="tag-element">
                            <!--https://stackoverflow.com/questions/29207161/asp-net-add-text-after-html-displayfor
                                Stopping at Tags.Count - 1 and manually displaying the last tag so there isn't a comma at the end.-->
                            Tags:
                            @for (var i = 0; i < item.Tags.Count - 1; i++)
                            {
                                @Html.DisplayFor(moduleItem => item.Tags.ElementAt(i).TheTag)<text>, </text>
                            }
                            @if (item.Tags.Count > 0)
                            {
                                @Html.DisplayFor(moduleItem => item.Tags.ElementAt(item.Tags.Count - 1).TheTag)
                            }
                        </td>
                    </tr>
                </table>
            </td>
            <td class="picture-col" style="background: #cc0000; border-bottom: solid grey 2px;">
                <img src=@Html.DisplayFor(moduleItem => item.Image) alt="A dog">
            </td>
        </tr>
            }
    </tbody>
</table>
